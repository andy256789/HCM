<div class="dashboard">
  <!-- Welcome Header -->
  <div class="welcome-section">
    <div class="welcome-content">
      <h1 class="welcome-title">Welcome back, {{getCurrentUserName()}}!</h1>
      <p class="welcome-subtitle">Here's an overview of your organization's current status</p>
    </div>
    <div class="current-date">
      <span class="date-label">Today</span>
      <span class="date-value">{{getCurrentDate()}}</span>
    </div>
  </div>

  <!-- Analytics Overview -->
  <div class="analytics-section">
    <h2 class="section-title">Analytics Overview</h2>
    <div class="metrics-grid">
      <div class="metric-card employees">
        <div class="metric-header">
          <div class="metric-icon">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm4 18v-6h2.5l-2.54-7.63A2 2 0 0 0 18.06 7H16c-.8 0-1.54.37-2.01.99l-2.54 3.26c-.74.95-.07 2.37 1.15 2.37H13V22h2v-5h1v5h4zM12.5 11.5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5S11 9.17 11 10s.67 1.5 1.5 1.5zM5.5 6c1.11 0 2-.89 2-2s-.89-2-2-2-2 .89-2 2 .89 2 2 2zm2 16v-7H9V9.5c0-.28-.22-.5-.5-.5H3c-.28 0-.5.22-.5.5V15H4v7h3.5z"/>
            </svg>
          </div>
          <span class="metric-trend positive">+2.5%</span>
        </div>
        <div class="metric-value">{{totalEmployees || 0}}</div>
        <div class="metric-label">Total Employees</div>
      </div>

      <div class="metric-card departments">
        <div class="metric-header">
          <div class="metric-icon">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-4h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z"/>
            </svg>
          </div>
          <span class="metric-trend stable">0%</span>
        </div>
        <div class="metric-value">{{totalDepartments || 0}}</div>
        <div class="metric-label">Departments</div>
      </div>

      <div class="metric-card salary">
        <div class="metric-header">
          <div class="metric-icon">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"/>
            </svg>
          </div>
          <span class="metric-trend positive">+1.2%</span>
        </div>
        <div class="metric-value">{{(averageSalary || 0) | currency:'USD':'symbol':'1.0-0'}}</div>
        <div class="metric-label">Average Salary</div>
      </div>

      <div class="metric-card positions">
        <div class="metric-header">
          <div class="metric-icon">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M9 11H7v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-9h-2v9H9v-9z"/>
              <path d="M13 2.05c4.39.54 7.5 4.53 6.96 8.92A8.014 8.014 0 0 1 13 18.9v-2.02c2.84-.48 4.96-2.9 4.96-5.83 0-3.15-2.51-5.7-5.61-5.96L13 2.05z"/>
            </svg>
          </div>
          <span class="metric-trend stable">0%</span>
        </div>
        <div class="metric-value">{{totalPositions || 0}}</div>
        <div class="metric-label">Active Positions</div>
      </div>
    </div>
  </div>

  <!-- Main Content Grid -->
  <div class="content-grid">
    <!-- Quick Actions Panel -->
    <div class="actions-panel">
      <h3 class="panel-title">Quick Actions</h3>
      <div class="action-list">
        <button class="action-item" (click)="navigateToEmployees()" *ngIf="canManageEmployees()">
          <div class="action-icon">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
            </svg>
          </div>
          <div class="action-content">
            <span class="action-title">Manage Employees</span>
            <span class="action-description">Add, edit, or view employee records</span>
          </div>
          <div class="action-arrow">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"/>
            </svg>
          </div>
        </button>

        <button class="action-item" (click)="navigateToDepartments()" *ngIf="canManageDepartments()">
          <div class="action-icon">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-4h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z"/>
            </svg>
          </div>
          <div class="action-content">
            <span class="action-title">Manage Departments</span>
            <span class="action-description">Organize and structure departments</span>
          </div>
          <div class="action-arrow">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"/>
            </svg>
          </div>
        </button>

        <button class="action-item" (click)="navigateToReports()">
          <div class="action-icon">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M3.5 18.49l6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.97-4-4L2 16.99z"/>
            </svg>
          </div>
          <div class="action-content">
            <span class="action-title">View Reports</span>
            <span class="action-description">Analytics and insights</span>
          </div>
          <div class="action-arrow">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"/>
            </svg>
          </div>
        </button>

        <button class="action-item" (click)="testDatabaseConnection()">
          <div class="action-icon">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/>
            </svg>
          </div>
          <div class="action-content">
            <span class="action-title">Refresh Data</span>
            <span class="action-description">Update system information</span>
          </div>
          <div class="action-arrow">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"/>
            </svg>
          </div>
        </button>
      </div>
    </div>

    <!-- System Status Panel -->
    <div class="status-panel">
      <h3 class="panel-title">System Health</h3>
      <div class="status-list">
        <div class="status-item" [class.healthy]="connectionStatus" [class.warning]="!connectionStatus">
          <div class="status-indicator">
            <div class="status-dot"></div>
          </div>
          <div class="status-content">
            <span class="status-title">Database Connection</span>
            <span class="status-value">{{connectionStatus ? 'Connected' : 'Disconnected'}}</span>
          </div>
        </div>

        <div class="status-item healthy">
          <div class="status-indicator">
            <div class="status-dot"></div>
          </div>
          <div class="status-content">
            <span class="status-title">Application Status</span>
            <span class="status-value">Operational</span>
          </div>
        </div>

        <div class="status-item healthy">
          <div class="status-indicator">
            <div class="status-dot"></div>
          </div>
          <div class="status-content">
            <span class="status-title">Security Status</span>
            <span class="status-value">Secure</span>
          </div>
        </div>

        <div class="status-item healthy">
          <div class="status-indicator">
            <div class="status-dot"></div>
          </div>
          <div class="status-content">
            <span class="status-title">Data Backup</span>
            <span class="status-value">Up to date</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
